"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[548],{7548:(S,c,o)=>{o.r(c),o.d(c,{AddressModule:()=>q});var r=o(6895),p=o(9455),_=o(5226),f=o.n(_),t=o(4650),A=o(7241),Z=o(5830),h=o(8423),m=o(388),u=o(4333),g=o(502);const T=["myModal3"];function C(n,l){1&n&&(t.TgZ(0,"td"),t._UZ(1,"ngx-skeleton-loader",30),t.qZA())}const y=function(){return[1,2,3,4,5,6,7,8,9,10]};function v(n,l){1&n&&(t.TgZ(0,"tr"),t.YNc(1,C,2,0,"td",11),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,y)))}function b(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td")(16,"c-badge",31),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.deleteAddress(a))}),t._uU(17),t.qZA()()()}if(2&n){const e=l.$implicit,i=t.oxw();t.xp6(2),t.hij(" ",e.id," "),t.xp6(2),t.AsE(" ",e.first_name," ",e.last_name," "),t.xp6(2),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.address," "),t.xp6(2),t.hij(" ",e.house," "),t.xp6(2),t.hij(" ",e.landmark," "),t.xp6(2),t.hij(" ",e.pincode," "),t.xp6(3),t.hij(" ",i.util.translate("Delete")," ")}}function x(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"pagination-controls",32),t.NdJ("pageChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.page=s)}),t.qZA()()}}const U=function(n){return{id:"pagin1",itemsPerPage:10,currentPage:n}},k=[{path:"",component:(()=>{class n{constructor(e,i){this.util=e,this.api=i,this.dummy=[],this.list=[],this.dummyList=[],this.page=1,this.getList()}getList(){this.dummy=Array(5),this.list=[],this.dummyList=[],this.api.get_private("v1/address/getAll").then(e=>{console.log(e),this.dummy=[],e&&e.status&&200==e.status&&e.data&&e.data.length&&(this.list=e.data,this.dummyList=e.data,console.log(Object.keys(this.list[0])))},e=>{console.log(e),this.dummy=[],this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.dummy=[],this.util.apiErrorHandler(e)})}ngOnInit(){}exportCSV(){let e=[];this.list.forEach(s=>{const a={id:this.util.replaceWithDot(s.id),user:this.util.replaceWithDot(s.first_name)+" "+this.util.replaceWithDot(s.last_name),address:this.util.replaceWithDot(s.address),title:this.util.replaceWithDot(s.title),house:this.util.replaceWithDot(s.house),landmark:this.util.replaceWithDot(s.landmark),pincode:this.util.replaceWithDot(s.pincode)};e.push(a)}),this.util.downloadFile(e,"address",["id","user","address","title","house","landmark","pincode"])}importCSV(){this.myModal3.show()}deleteAddress(e){console.log(e),f().fire({title:this.util.translate("Are you sure?"),text:this.util.translate("To delete this item?"),icon:"question",showConfirmButton:!0,confirmButtonText:this.util.translate("Yes"),showCancelButton:!0,cancelButtonText:this.util.translate("Cancel"),backdrop:!1,background:"white"}).then(i=>{i&&i.value&&(console.log("update it"),this.util.show(),this.api.post_private("v1/address/destroy",{id:e.id}).then(s=>{console.log(s),this.util.hide(),s&&s.status&&200==s.status&&this.getList()}).catch(s=>{console.log(s),this.util.hide(),this.util.apiErrorHandler(s)}))})}saveType(){this.myModal3.hide()}downloadSample(){window.open("assets/sample/address.csv","_blank")}uploadCSV(e){console.log("fle",e),0!=e.length&&null!=e[0].type.match(/text\/*/)&&(e?(console.log("ok"),this.util.show(),this.api.uploaCSV(e,"v1/address/importData").subscribe(s=>{console.log("==>>>>>>",s.data),this.util.hide(),this.myModal3.hide(),this.util.success("Uploaded"),this.getList()},s=>{console.log(s),this.util.hide(),this.util.apiErrorHandler(s)})):console.log("no"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.f),t.Y36(Z.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-address"]],viewQuery:function(e,i){if(1&e&&t.Gf(T,5),2&e){let s;t.iGM(s=t.CRH())&&(i.myModal3=s.first)}},decls:60,vars:23,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"card-header-actions"],["type","submit",1,"btn","btn-sm","btn-warning",2,"float","right","margin","0px 5px",3,"click"],["type","submit",1,"btn","btn-sm","btn-success",2,"float","right","margin","0px 5px",3,"click"],[1,"card-body"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["myModal3","bs-modal"],["role","document",1,"modal-dialog","modal-warning"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","long_content"],[1,"form-group","row"],[1,"col-md-12"],["type","file","id","file-input","name","file-input","accept",".csv",3,"change"],["type","button",1,"btn","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-cloud-download"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],["animation","progress"],["color","danger",1,"me-1","badge","bg-danger",3,"click"],["id","pagin1",3,"pageChange"]],template:function(e,i){if(1&e){const s=t.EpF();t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.TgZ(7,"div",6)(8,"button",7),t.NdJ("click",function(){return i.importCSV()}),t._uU(9),t.qZA(),t._uU(10," \xa0 "),t.TgZ(11,"button",8),t.NdJ("click",function(){return i.exportCSV()}),t._uU(12),t.qZA()()(),t.TgZ(13,"div",9)(14,"table",10)(15,"thead")(16,"tr")(17,"th"),t._uU(18),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.qZA(),t.TgZ(21,"th"),t._uU(22),t.qZA(),t.TgZ(23,"th"),t._uU(24),t.qZA(),t.TgZ(25,"th"),t._uU(26),t.qZA(),t.TgZ(27,"th"),t._uU(28),t.qZA(),t.TgZ(29,"th"),t._uU(30),t.qZA(),t.TgZ(31,"th"),t._uU(32),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,v,2,2,"tr",11),t.YNc(35,b,18,9,"tr",11),t.ALo(36,"paginate"),t.qZA()(),t.YNc(37,x,2,0,"div",12),t.qZA()()()()(),t.TgZ(38,"div",13,14)(40,"div",15)(41,"div",16)(42,"div",17)(43,"h5",18),t._uU(44),t.qZA(),t.TgZ(45,"button",19),t.NdJ("click",function(){t.CHM(s);const d=t.MAs(39);return t.KtG(d.hide())}),t.TgZ(46,"span",20),t._uU(47,"\xd7"),t.qZA()()(),t.TgZ(48,"div",21)(49,"div",22)(50,"div",23)(51,"input",24),t.NdJ("change",function(d){return i.uploadCSV(d.target.files)}),t.qZA()()(),t.TgZ(52,"button",25),t.NdJ("click",function(){return i.downloadSample()}),t._uU(53),t._UZ(54,"i",26),t.qZA()(),t.TgZ(55,"div",27)(56,"button",28),t.NdJ("click",function(){t.CHM(s);const d=t.MAs(39);return t.KtG(d.hide())}),t._uU(57),t.qZA(),t.TgZ(58,"button",29),t.NdJ("click",function(){return i.saveType()}),t._uU(59),t.qZA()()()()()}2&e&&(t.xp6(6),t.hij(" ",i.util.translate("Address")," "),t.xp6(3),t.hij(" ",i.util.translate("Bulk CSV Upload")," "),t.xp6(3),t.hij(" ",i.util.translate("Export as CSV")," "),t.xp6(6),t.hij(" ",i.util.translate("Id"),""),t.xp6(2),t.hij(" ",i.util.translate("User"),""),t.xp6(2),t.hij(" ",i.util.translate("Title"),""),t.xp6(2),t.hij(" ",i.util.translate("Address")," "),t.xp6(2),t.hij(" ",i.util.translate("House")," "),t.xp6(2),t.hij(" ",i.util.translate("Landmark")," "),t.xp6(2),t.hij(" ",i.util.translate("Pincode")," "),t.xp6(2),t.hij(" ",i.util.translate("Actions")," "),t.xp6(2),t.Q6J("ngForOf",i.dummy),t.xp6(1),t.Q6J("ngForOf",t.xi3(36,18,i.list,t.VKq(21,U,i.page))),t.xp6(2),t.Q6J("ngIf",(null==i.list?null:i.list.length)>0),t.xp6(7),t.hij("",i.util.translate("Bulk CSV Upload")," "),t.xp6(9),t.hij(" ",i.util.translate("Download Sample CSV")," \xa0 "),t.xp6(4),t.Oqu(i.util.translate("Close")),t.xp6(2),t.hij(" ",i.util.translate("Save Changes"),""))},dependencies:[r.sg,r.O5,h.Ro,m.oB,u.LS,g.xr,u._s],styles:['@charset "UTF-8";']}),n})()}];let j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(k),p.Bz]}),n})();var M=o(4006);let q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[r.ez,j,M.u5,h.ef,m.zk.forRoot(),u.JX,g.hx.forRoot({animation:"progress-dark"})]}),n})()}}]);