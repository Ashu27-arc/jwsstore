"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[836],{2836:(M,u,n)=>{n.r(u),n.d(u,{AppUpdatesModule:()=>C});var _=n(6895),c=n(9455),t=n(4650),g=n(7241),v=n(5830),l=n(4006),h=n(8423);const r=function(){return{standalone:!0}};function m(a,i){if(1&a){const p=t.EpF();t.TgZ(0,"div",5)(1,"div",8),t._uU(2),t.qZA(),t.TgZ(3,"div",6)(4,"div",2)(5,"div",9)(6,"div",10)(7,"label",11),t._uU(8),t.qZA(),t.TgZ(9,"input",12),t.NdJ("ngModelChange",function(s){const o=t.CHM(p).$implicit;return t.KtG(o.app_url_playstore=s)}),t.qZA()()(),t.TgZ(10,"div",9)(11,"div",10)(12,"label",11),t._uU(13),t.qZA(),t.TgZ(14,"input",12),t.NdJ("ngModelChange",function(s){const o=t.CHM(p).$implicit;return t.KtG(o.app_version_android=s)}),t.qZA()()(),t.TgZ(15,"div",9)(16,"div",10)(17,"label",11),t._uU(18),t.qZA(),t.TgZ(19,"input",12),t.NdJ("ngModelChange",function(s){const o=t.CHM(p).$implicit;return t.KtG(o.app_url_app_store=s)}),t.qZA()()(),t.TgZ(20,"div",9)(21,"div",10)(22,"label",11),t._uU(23),t.qZA(),t.TgZ(24,"input",12),t.NdJ("ngModelChange",function(s){const o=t.CHM(p).$implicit;return t.KtG(o.app_version_ios=s)}),t.qZA()()(),t.TgZ(25,"div",9)(26,"div",10)(27,"label",11),t._uU(28),t.qZA(),t.TgZ(29,"select",13),t.NdJ("ngModelChange",function(s){const o=t.CHM(p).$implicit;return t.KtG(o.force_update=s)}),t.TgZ(30,"option",14),t._uU(31),t.qZA(),t.TgZ(32,"option",14),t._uU(33),t.qZA()()()()()()()}if(2&a){const p=i.$implicit,e=t.oxw();t.xp6(2),t.hij(" ",e.util.translate(p.app_name)," "),t.xp6(6),t.Oqu(e.util.translate("App URL PlayStore")),t.xp6(1),t.Q6J("ngModel",p.app_url_playstore)("placeholder",e.util.translate("https://play.google.com/store/apps/details?id=com.whatsapp"))("ngModelOptions",t.DdM(24,r)),t.xp6(4),t.Oqu(e.util.translate("Android App Version")),t.xp6(1),t.Q6J("ngModel",p.app_version_android)("placeholder",e.util.translate("Android App Version 0.0.1"))("ngModelOptions",t.DdM(25,r)),t.xp6(4),t.Oqu(e.util.translate("App URL AppStore")),t.xp6(1),t.Q6J("ngModel",p.app_url_app_store)("placeholder",e.util.translate("https://apps.apple.com/in/app/whatsapp-messenger/id310633997"))("ngModelOptions",t.DdM(26,r)),t.xp6(4),t.Oqu(e.util.translate("iOS App Version")),t.xp6(1),t.Q6J("ngModel",p.app_version_ios)("placeholder",e.util.translate("iOS App Version 0.0.1"))("ngModelOptions",t.DdM(27,r)),t.xp6(4),t.Oqu(e.util.translate("Update Status")),t.xp6(1),t.Q6J("ngModelOptions",t.DdM(28,r))("ngModel",p.force_update),t.xp6(1),t.Q6J("value",0),t.xp6(1),t.Oqu(e.util.translate("Ignorable")),t.xp6(1),t.Q6J("value",1),t.xp6(1),t.Oqu(e.util.translate("Force Update"))}}const f=[{path:"",component:(()=>{class a{constructor(p,e){this.util=p,this.api=e,this.app_updates=[{app_url_playstore:"",app_url_app_store:"",app_version_android:"",app_version_ios:"",force_update:0,app_name:"User App"},{app_url_playstore:"",app_url_app_store:"",app_version_android:"",app_version_ios:"",force_update:0,app_name:"Store App"},{app_url_playstore:"",app_url_app_store:"",app_version_android:"",app_version_ios:"",force_update:0,app_name:"Driver App"}],this.haveData=!1,console.log(this.app_updates),this.getContent()}ngOnInit(){}getContent(){this.util.show(),this.api.post_private("v1/flush/getByKey",{key:"app_updates"}).then(p=>{if(this.util.hide(),console.log(p),p&&p.status&&200==p.status&&p.data){const e=p.data;console.log(e),this.haveData=!0,this.app_updates=JSON.parse(e.value)}},p=>{console.log(p),this.util.hide(),this.util.apiErrorHandler(p)}).catch(p=>{console.log(p),this.util.hide(),this.util.apiErrorHandler(p)})}save(){return console.log(this.app_updates),this.app_updates.map(o=>o.app_url_app_store).includes("")||this.app_updates.map(o=>o.app_url_playstore).includes("")||this.app_updates.map(o=>o.app_version_android).includes("")||this.app_updates.map(o=>o.app_version_ios).includes("")?(this.util.error(this.util.translate("All fields are required")),!1):(console.log("ok",this.haveData),void(1==this.haveData?(console.log("update"),this.updateInfo()):(console.log("create"),this.createInfo())))}updateInfo(){const p={key:"app_updates",value:JSON.stringify(this.app_updates),status:1};this.util.show(),this.api.post_private("v1/flush/update",p).then(e=>{console.log(e),this.util.hide(),this.getContent()},e=>{console.log(e),this.util.hide(),this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.util.hide(),this.util.apiErrorHandler(e)})}createInfo(){const p={key:"app_updates",value:JSON.stringify(this.app_updates),status:1};this.util.show(),this.api.post_private("v1/flush/save",p).then(e=>{console.log(e),this.util.hide(),this.getContent()},e=>{console.log(e),this.util.hide(),this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.util.hide(),this.util.apiErrorHandler(e)})}}return a.\u0275fac=function(p){return new(p||a)(t.Y36(g.f),t.Y36(v.s))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-app-updates"]],decls:9,vars:2,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],["type","button",1,"btn","btn-success",3,"click"],[1,"card-header"],[1,"col-sm-12"],[1,"form-group"],[1,"modal_lbl"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelOptions","ngModelChange"],[1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],[3,"value"]],template:function(p,e){1&p&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,m,34,29,"div",4),t.TgZ(5,"div",5)(6,"div",6)(7,"button",7),t.NdJ("click",function(){return e.save()}),t._uU(8),t.qZA()()()()()()),2&p&&(t.xp6(4),t.Q6J("ngForOf",e.app_updates),t.xp6(4),t.hij(" ",e.util.translate("Submit"),""))},dependencies:[_.sg,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,h.Ro],styles:['@charset "UTF-8";']}),a})()}];let A=(()=>{class a{}return a.\u0275fac=function(p){return new(p||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[c.Bz.forChild(f),c.Bz]}),a})(),C=(()=>{class a{}return a.\u0275fac=function(p){return new(p||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[_.ez,A,l.u5,h.ef]}),a})()}}]);