"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[595],{5595:(P,p,s)=>{s.r(p),s.d(p,{ManagePopupModule:()=>C});var c=s(6895),u=s(9455),r=s(5439),t=s(4650),M=s(7241),m=s(5830),o=s(4006),h=s(8423);const d=function(){return{standalone:!0}},v=[{path:"",component:(()=>{class n{constructor(e,a){this.util=e,this.api=a,this.appStatus=1,this.appMessage="",this.appId="",this.haveData=!1,this.getCurrent()}ngOnInit(){}getCurrent(){this.util.show(),this.api.get_private("v1/popup/getAll").then(e=>{console.log(e),this.util.hide(),e&&e.status&&200==e.status&&e.data&&e.data.length&&(this.haveData=!0,this.appStatus=e.data[0].shown,this.appMessage=e.data[0].message,this.appId=e.data[0].id,console.log(this.appId))},e=>{console.log(e),this.util.hide(),this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.util.hide(),this.util.apiErrorHandler(e)})}save(){if(""==this.appMessage||null==this.appMessage)return this.util.error("Please enter message"),!1;if(1==this.haveData){const e={id:this.appId,shown:this.appStatus,message:this.appMessage,date_time:r().format("YYYY-MM-DD")};this.util.show(),this.api.post_private("v1/popup/update",e).then(a=>{this.util.hide(),this.util.success("Saved"),this.getCurrent()},a=>{console.log(a),this.util.hide(),this.util.apiErrorHandler(a)}).catch(a=>{console.log(a),this.util.hide(),this.util.apiErrorHandler(a)})}else{const e={shown:this.appStatus,message:this.appMessage,date_time:r().format("YYYY-MM-DD")};this.util.show(),this.api.post_private("v1/popup/create",e).then(a=>{this.util.hide(),this.util.success("Saved"),this.getCurrent()},a=>{console.log(a),this.util.hide(),this.util.apiErrorHandler(a)}).catch(a=>{console.log(a),this.util.hide(),this.util.apiErrorHandler(a)})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.f),t.Y36(m.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-manage-popup"]],decls:24,vars:15,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-sm-12"],[1,"form-group"],[1,"modal_lbl"],[1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],[3,"value"],["type","text","rows","6",1,"form-control",3,"ngModelOptions","ngModel","placeholder","ngModelChange"],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,a){1&e&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",6)(8,"div",2)(9,"div",7)(10,"div",8)(11,"label",9),t._uU(12),t.qZA(),t.TgZ(13,"select",10),t.NdJ("ngModelChange",function(l){return a.appStatus=l}),t.TgZ(14,"option",11),t._uU(15),t.qZA(),t.TgZ(16,"option",11),t._uU(17),t.qZA()()(),t.TgZ(18,"div",8)(19,"label"),t._uU(20),t.qZA(),t.TgZ(21,"textarea",12),t.NdJ("ngModelChange",function(l){return a.appMessage=l}),t.qZA()(),t.TgZ(22,"button",13),t.NdJ("click",function(){return a.save()}),t._uU(23),t.qZA()()()()()()()()),2&e&&(t.xp6(6),t.hij(" ",a.util.translate("Manage Popup")," "),t.xp6(6),t.Oqu(a.util.translate("Status")),t.xp6(1),t.Q6J("ngModelOptions",t.DdM(13,d))("ngModel",a.appStatus),t.xp6(1),t.Q6J("value",0),t.xp6(1),t.Oqu(a.util.translate("Maintenance or Closed")),t.xp6(1),t.Q6J("value",1),t.xp6(1),t.Oqu(a.util.translate("Open")),t.xp6(3),t.Oqu(a.util.translate("Message")),t.xp6(1),t.Q6J("ngModelOptions",t.DdM(14,d))("ngModel",a.appMessage)("placeholder",a.util.translate("Message")),t.xp6(2),t.hij(" ",a.util.translate("Submit"),""))},dependencies:[o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.On,h.Ro],styles:['@charset "UTF-8";']}),n})()}];let f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(v),u.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,f,o.u5,h.ef]}),n})()}}]);