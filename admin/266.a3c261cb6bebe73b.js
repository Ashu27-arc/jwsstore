"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[266],{3266:(T,m,s)=>{s.r(m),s.d(m,{ReferralModule:()=>y});var a=s(6895),u=s(9455),e=s(4650),h=s(7241),c=s(5830),l=s(4006),g=s(8423);function v(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.qZA()}if(2&r){const o=e.oxw();e.xp6(1),e.hij(" ",o.util.translate("Create Referral Program")," ")}}function b(r,n){if(1&r){const o=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.update())}),e._uU(1),e.qZA()}if(2&r){const o=e.oxw();e.xp6(1),e.hij(" ",o.util.translate("Update Referral Program")," ")}}const p=function(){return{standalone:!0}},f=[{path:"",component:(()=>{class r{constructor(o,t){this.util=o,this.api=t,this.submited=!1,this.amount="",this.limit="",this.title="",this.message="",this.who_received="",this.status="",this.referralId="",this.edit=!1,this.getReferral()}ngOnInit(){}getReferral(){this.util.show(),this.api.get_private("v1/referral/getAll").then(o=>{if(this.util.hide(),console.log(o),o&&o.status&&200==o.status&&o.data&&o.data.length){const t=o.data[0];console.log(t),this.edit=!0,this.referralId=t.id,this.title=t.title,this.message=t.message,this.amount=t.amount,this.limit=t.limit,this.who_received=t.who_received,this.status=t.status}},o=>{console.log(o),this.util.hide(),this.util.apiErrorHandler(o)}).catch(o=>{console.log(o),this.util.hide(),this.util.apiErrorHandler(o)})}create(){if(this.submited=!0,""==this.title||""==this.message||""==this.amount||""==this.limit||""==this.who_received||""==this.status)return this.util.error("All fields are required"),!1;const o={amount:this.amount,title:this.title,message:this.message,limit:this.limit,who_received:this.who_received,status:this.status};this.util.show(),this.api.post_private("v1/referral/save",o).then(t=>{console.log(t),this.util.hide(),t&&t.status&&200==t.status?(this.util.success("Referral program created"),this.getReferral()):this.util.error("Something went wrong while saving reffral")},t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)})}update(){if(this.submited=!0,""==this.title||""==this.message||""==this.amount||""==this.limit||""==this.who_received||""==this.status)return this.util.error("All fields are required"),!1;const o={id:this.referralId,amount:this.amount,title:this.title,message:this.message,limit:this.limit,who_received:this.who_received,status:this.status};this.util.show(),this.api.post_private("v1/referral/update",o).then(t=>{console.log(t),this.util.hide(),t&&t.status&&200==t.status?(this.util.success("Referral program updated"),this.getReferral()):this.util.error("Something went wrong while saving reffral")},t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.hide(),this.util.apiErrorHandler(t)})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(h.f),e.Y36(c.s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-referral"]],decls:67,vars:50,consts:[["type","ball-scale-multiple"],[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-header",2,"margin","10px 0px","border","none","text-transform","uppercase","font-weight","bold"],[1,"col-12"],[1,"help"],[1,"col-sm-12"],[1,"form-group"],[2,"color","red"],["type","text",1,"form-control",3,"ngModelOptions","ngModel","placeholder","ngModelChange"],["type","text","rows","5",1,"form-control",3,"ngModelOptions","ngModel","placeholder","ngModelChange"],[1,"col-sm-6"],["type","number",1,"form-control",3,"ngModelOptions","ngModel","placeholder","ngModelChange"],["id","select2","name","select2",1,"form-control","form-control",3,"ngModel","ngModelChange"],[3,"value"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn","btn-primary",3,"click"]],template:function(o,t){1&o&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.qZA(),e.TgZ(8,"div",2)(9,"div",7)(10,"p",8),e._uU(11),e.qZA()()(),e.TgZ(12,"div",2)(13,"div",9)(14,"div",10)(15,"label"),e._uU(16),e.TgZ(17,"span",11),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"input",12),e.NdJ("ngModelChange",function(d){return t.title=d}),e.qZA()()(),e.TgZ(20,"div",9)(21,"div",10)(22,"label"),e._uU(23),e.TgZ(24,"span",11),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"textarea",13),e.NdJ("ngModelChange",function(d){return t.message=d}),e.qZA()()(),e.TgZ(27,"div",14)(28,"div",10)(29,"label"),e._uU(30),e.TgZ(31,"span",11),e._uU(32,"*"),e.qZA()(),e.TgZ(33,"input",15),e.NdJ("ngModelChange",function(d){return t.amount=d}),e.qZA()()(),e.TgZ(34,"div",14)(35,"div",10)(36,"label"),e._uU(37),e.TgZ(38,"span",11),e._uU(39,"*"),e.qZA()(),e.TgZ(40,"input",15),e.NdJ("ngModelChange",function(d){return t.limit=d}),e.qZA()()(),e.TgZ(41,"div",14)(42,"div",10)(43,"label"),e._uU(44),e.TgZ(45,"span",11),e._uU(46,"*"),e.qZA()(),e.TgZ(47,"select",16),e.NdJ("ngModelChange",function(d){return t.who_received=d}),e.TgZ(48,"option",17),e._uU(49),e.qZA(),e.TgZ(50,"option",17),e._uU(51),e.qZA(),e.TgZ(52,"option",17),e._uU(53),e.qZA()()()(),e.TgZ(54,"div",14)(55,"div",10)(56,"label"),e._uU(57),e.TgZ(58,"span",11),e._uU(59,"*"),e.qZA()(),e.TgZ(60,"select",16),e.NdJ("ngModelChange",function(d){return t.status=d}),e.TgZ(61,"option",17),e._uU(62),e.qZA(),e.TgZ(63,"option",17),e._uU(64),e.qZA()()()()(),e.YNc(65,v,2,1,"button",18),e.YNc(66,b,2,1,"button",19),e.qZA()()()()()),2&o&&(e.xp6(7),e.hij(" ",t.util.translate("Referral Details")," : "),e.xp6(4),e.hij(" ",t.util.translate("This information will be used as referral system. in order to disable the referral system. please choose status to deactive.")," "),e.xp6(5),e.hij("",t.util.translate("Referral Title")," : "),e.xp6(3),e.Tol(t.submited&&""==t.title?"req":""),e.Q6J("ngModelOptions",e.DdM(46,p))("ngModel",t.title)("placeholder",t.util.translate("Referral Title")),e.xp6(4),e.hij("",t.util.translate("Referral Message")," : "),e.xp6(3),e.Tol(t.submited&&""==t.message?"req":""),e.Q6J("ngModelOptions",e.DdM(47,p))("ngModel",t.message)("placeholder",t.util.translate("Referral Message")),e.xp6(4),e.hij("",t.util.translate("Amount")," : "),e.xp6(3),e.Tol(t.submited&&""==t.amount?"req":""),e.Q6J("ngModelOptions",e.DdM(48,p))("ngModel",t.amount)("placeholder",t.util.translate("Amount")),e.xp6(4),e.hij("",t.util.translate("Limit")," : "),e.xp6(3),e.Tol(t.submited&&""==t.limit?"req":""),e.Q6J("ngModelOptions",e.DdM(49,p))("ngModel",t.limit)("placeholder",t.util.translate("Limit")),e.xp6(4),e.hij("",t.util.translate("Who Received")," : "),e.xp6(3),e.Tol(t.submited&&""==t.who_received?"req":""),e.Q6J("ngModel",t.who_received),e.xp6(1),e.Q6J("value",1),e.xp6(1),e.hij(" ",t.util.translate("Invitee")," "),e.xp6(1),e.Q6J("value",2),e.xp6(1),e.hij(" ",t.util.translate("Who Redeem")," "),e.xp6(1),e.Q6J("value",3),e.xp6(1),e.hij(" ",t.util.translate("Both Invitee & Who Redeem")," "),e.xp6(4),e.hij("",t.util.translate("Status")," : "),e.xp6(3),e.Tol(t.submited&&""==t.status?"req":""),e.Q6J("ngModel",t.status),e.xp6(1),e.Q6J("value",1),e.xp6(1),e.hij(" ",t.util.translate("Active")," "),e.xp6(1),e.Q6J("value",0),e.xp6(1),e.hij(" ",t.util.translate("Deactive")," "),e.xp6(1),e.Q6J("ngIf",!t.edit),e.xp6(1),e.Q6J("ngIf",t.edit))},dependencies:[a.O5,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.On,g.Ro],styles:['@charset "UTF-8";']}),r})()}];let M=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.Bz.forChild(f),u.Bz]}),r})();var C=s(388),_=s(502);let y=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[a.ez,M,C.zk.forRoot(),l.u5,g.ef,_.hx.forRoot({animation:"progress-dark"})]}),r})()},502:(T,m,s)=>{s.d(m,{xr:()=>y,hx:()=>r});var a=s(4650);const u=typeof performance<"u"&&typeof performance.now<"u"&&"function"==typeof performance.mark&&"function"==typeof performance.measure&&("function"==typeof performance.clearMarks||"function"==typeof performance.clearMeasures),e=typeof PerformanceObserver<"u"&&typeof PerformanceObserver.prototype<"u"&&"function"==typeof PerformanceObserver.prototype.constructor,h="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0);let c={},l={};const g=()=>u?performance.now():Date.now(),v=n=>{c[n]=void 0,l[n]&&(l[n]=void 0),u&&(h||performance.clearMeasures(n),performance.clearMarks(n))},b=n=>{if(u){if(h&&e){const o=new PerformanceObserver(t=>{l[n]=t.getEntries().find(i=>i.name===n),o.disconnect()});o.observe({entryTypes:["measure"]})}performance.mark(n)}c[n]=g()},p=(n,o)=>{try{const t=c[n];return u?(o||performance.mark(`${n}-end`),performance.measure(n,n,o||`${n}-end`),h?l[n]?l[n]:t?{duration:g()-t,startTime:t,entryType:"measure",name:n}:{}:performance.getEntriesByName(n).pop()||{}):t?{duration:g()-t,startTime:t,entryType:"measure",name:n}:{}}catch{return{}}finally{v(n),v(o||`${n}-end`)}};var f=s(6895);const M=function(n,o,t,i){return{circle:n,progress:o,"progress-dark":t,pulse:i}};function C(n,o){if(1&n&&a._UZ(0,"span",1),2&n){const t=a.oxw();a.Q6J("ngClass",a.l5B(4,M,"circle"===t.appearance,"progress"===t.animation,"progress-dark"===t.animation,"pulse"===t.animation))("ngStyle",t.theme),a.uIk("aria-label",t.ariaLabel)("aria-valuetext",t.loadingText)}}const _=new a.OlP("ngx-skeleton-loader.config");let y=(()=>{class n{constructor(t){const{appearance:i="line",animation:d="progress",theme:w=null,loadingText:Z="Loading...",count:O=1,ariaLabel:R="loading"}=t||{};this.appearance=i,this.animation=d,this.theme=w,this.loadingText=Z,this.count=O,this.items=[],this.ariaLabel=R}ngOnInit(){b("NgxSkeletonLoader:Rendered"),b("NgxSkeletonLoader:Loaded"),this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,a.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),this.items.length=this.count;const t=["progress","progress-dark","pulse","false"];-1===t.indexOf(String(this.animation))&&((0,a.X6Q)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${t.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line",""].indexOf(String(this.appearance))&&((0,a.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or empty string. Forcing default to \"''\"."),this.appearance="")}ngOnChanges(t){["count","animation","appearance"].find(i=>t[i]&&(t[i].isFirstChange()||t[i].previousValue===t[i].currentValue))||this.validateInputValues()}ngAfterViewInit(){p("NgxSkeletonLoader:Rendered")}ngOnDestroy(){p("NgxSkeletonLoader:Loaded")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(_,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-skeleton-loader"]],inputs:{count:"count",loadingText:"loadingText",appearance:"appearance",animation:"animation",ariaLabel:"ariaLabel",theme:"theme"},features:[a.TTD],decls:1,vars:1,consts:[["class","loader","aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",1,"loader",3,"ngClass","ngStyle"]],template:function(t,i){1&t&&a.YNc(0,C,1,9,"span",0),2&t&&a.Q6J("ngForOf",i.items)},dependencies:[f.sg,f.mk,f.PC],styles:['.loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:#eff1f6 no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%]{transform:translate(0)}.loader.progress[_ngcontent-%COMP%]:after, .loader.progress[_ngcontent-%COMP%]:before, .loader.progress-dark[_ngcontent-%COMP%]:after, .loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.progress[_ngcontent-%COMP%]:before, .loader.progress-dark[_ngcontent-%COMP%]:before{-webkit-animation:progress 2s ease-in-out infinite;animation:progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,rgba(255,255,255,0),rgba(255,255,255,.6),rgba(255,255,255,0))}.loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.loader.pulse[_ngcontent-%COMP%]{-webkit-animation:pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation:pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;-webkit-animation-delay:.5s;animation-delay:.5s}@media (prefers-reduced-motion: reduce){.loader.pulse[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%], .loader.progress[_ngcontent-%COMP%]{-webkit-animation:none;animation:none}.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%]{background-image:none}}@-webkit-keyframes progress{0%{transform:translate(-200px)}to{transform:translate(calc(200px + 100vw))}}@keyframes progress{0%{transform:translate(-200px)}to{transform:translate(calc(200px + 100vw))}}@-webkit-keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0}),n})(),r=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:_,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[f.ez]]}),n})()}}]);